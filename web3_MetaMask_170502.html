<html>
<head>
  <title>hi25</title>  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta http-equiv="content-language" content="en">

  <!--<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js">
  <script src="http://npage.de/assets/js/jquery-1.10.2.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
   <link rel="stylesheet" href="http://jslegers.github.com/jquery-bootstrap/assets/css/jquery-bootstrap.css">
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js">-->

    

<script type="text/javascript">
 ///First web3.eth.watch code to monitor coinbase
  
window.addEventListener('load', function() {

  // Checking if Web3 has been injected by the browser (Mist/MetaMask)
  if (typeof web3 !== 'undefined') {    
    // Use Mist/MetaMask's provider
    window.web3 = new Web3(web3.currentProvider);
  } else {
    console.log('No web3? You should consider trying MetaMask!')
    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
    // window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
  }

  // Now you can start your app & access web3 freely:
  
  web3.version.getNetwork((err, netId) => {
  switch (netId) {
    case "1":
      document.getElementById('Net').innerText = 'This is mainnet';
      break
    case "2":
      document.getElementById('Net').innerText = 'This is the deprecated Morden test network.';
      break
    case "3":
      document.getElementById('Net').innerText ='This is the ropsten teest network.';
      break
    default:
      document.getElementById('Net').innerText ='This is an unknown network.';
  }
}) 
  
  
  //  var coinbase = web3.eth.coinbase;
  //var coinbase = web3.eth.accounts[0];
  var coinbase = '';
  web3.eth.getAccounts(function(error, result){
    console.log(result);
    document.getElementById('coinbase').innerText = result;
    window.coinbase = result[0];
    console.log(window.coinbase);
  })

window.coinbase="0x118c191228cc79cfc886086fc346d1d47e29c2b1";
web3.eth.getBalance(window.coinbase, function(error, result){
        console.log(result);
        document.getElementById('balance').innerText = result.c[0].toString(10) + result.c[1].toString(10) ;
})
  
web3.eth.getBlock("latest" , function(error, result){
        //console.log(result);
        document.getElementById('latestBlock').innerText = result.number;
        document.getElementById('latestBlockTimestamp').innerText =Date(result.timestamp);
        document.getElementById('latestBlockHash').innerText = result.hash;
})
  
  
})

</script>

</head>

<body>

  <div class="header">
    <h3>Hi!</h3>
  </div>

  <div style="background: #eeeeee; color: #000000; font: Helvetica 14pt">
    Net: <strong id="Net"></strong><br>
    Coinbase Address: <strong id="coinbase"></strong><br>
    Balance: <strong id="balance"></strong><br>
    Latest Block Number: <strong id="latestBlock"></strong><br>
    Latest Block Timestamp: <strong id="latestBlockTimestamp"></strong><br>
    Latest Block Hash: <strong id="latestBlockHash"></strong><br>

    <br>
  </div>

</body>

</html>

